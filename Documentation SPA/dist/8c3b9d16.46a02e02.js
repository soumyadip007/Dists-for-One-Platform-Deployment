(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{104:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return a})),r.d(t,"metadata",(function(){return c})),r.d(t,"rightToc",(function(){return s})),r.d(t,"default",(function(){return u}));var i=r(2),n=r(6),o=(r(0),r(153)),a={id:"authorization-service",title:"Authorization Service",sidebar_label:"Authorization Service",slug:"/microservices/authorization"},c={unversionedId:"microservices/authorization/authorization-service",id:"microservices/authorization/authorization-service",isDocsHomePage:!1,title:"Authorization Service",description:"* * *",source:"@site/docs/microservices/authorization/authorization-service.md",slug:"/microservices/authorization",permalink:"/get-started/docs/microservices/authorization",editUrl:"https://github.com/1-platform/one-platform/edit/master/packages/documentation-spa/docs/microservices/authorization/authorization-service.md",version:"current",sidebar_label:"Authorization Service",sidebar:"someSidebar",previous:{title:"API Gateway",permalink:"/get-started/docs/microservices/api-gateway"},next:{title:"Apps Service",permalink:"/get-started/docs/microservices/apps-service"}},s=[{value:"Developers",id:"developers",children:[{value:"Component Contributors",id:"component-contributors",children:[]}]},{value:"Getting Started",id:"getting-started",children:[]},{value:"Usage",id:"usage",children:[{value:"Introduction",id:"introduction",children:[]},{value:"SSI (Server Side Includes)",id:"ssi-server-side-includes",children:[]},{value:"API Gateway",id:"api-gateway",children:[]},{value:"Directives",id:"directives",children:[]}]}],l={rightToc:s};function u(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(o.b)("wrapper",Object(i.a)({},l,a,{components:t,mdxType:"MDXLayout"}),Object(o.b)("hr",null),Object(o.b)("h2",{id:"developers"},"Developers"),Object(o.b)("h3",{id:"component-contributors"},"Component Contributors"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Mayur Deshmukh  - ",Object(o.b)("a",{parentName:"li",href:"mailto:mdeshmuk@redhat.com"},"mdeshmuk@redhat.com")),Object(o.b)("li",{parentName:"ol"},"Rigin Oommen - ",Object(o.b)("a",{parentName:"li",href:"mailto:roommen@redhat.com"},"roommen@redhat.com"))),Object(o.b)("h2",{id:"getting-started"},"Getting Started"),Object(o.b)("p",null,"Authorization is important for any service. In One Platform we included this for ensuring the access controls across the platform This has been implemented with support of Red Hat SSO."),Object(o.b)("h2",{id:"usage"},"Usage"),Object(o.b)("h3",{id:"introduction"},"Introduction"),Object(o.b)("p",null,"Every SPA/Microservice can use the authorization feature for ensure that right user is using the right thing"),Object(o.b)("h4",{id:"apps-using-this-feature"},"Apps using this feature"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Notifications"),Object(o.b)("li",{parentName:"ol"},"Feedback"),Object(o.b)("li",{parentName:"ol"},"Home SPA"),Object(o.b)("li",{parentName:"ol"},"User Profile")),Object(o.b)("h3",{id:"ssi-server-side-includes"},"SSI (Server Side Includes)"),Object(o.b)("p",null,"SSI  integrated with the Red Hat SSO which initiates the login process and obtains jwt token after successful login."),Object(o.b)("p",null,Object(o.b)("img",{alt:"Authorization Workflow",src:r(224).default})),Object(o.b)("p",null,"After getting the token and the user data it is saved to the local storage."),Object(o.b)("h3",{id:"api-gateway"},"API Gateway"),Object(o.b)("p",null,"API gateway which is built with graphql which performs token verification associated with every XHR request. API gateway verifies the token with the public key of Internal IDP. If the token is valid then gateway will route the request to the specified microservice."),Object(o.b)("p",null,Object(o.b)("img",{alt:"API Gateway Authorization Workflow",src:r(225).default})),Object(o.b)("p",null,"If a request get authenticated successfully the decoded payload will be passed to the specified microservice. The decoded payload consists of the user information."),Object(o.b)("h3",{id:"directives"},"Directives"),Object(o.b)("p",null,"Directives are special annotations that developers can use to Change/Extend behaviour for selected elements in the schema. We are willing to use this for the SPA/Microservice permissions"))}u.isMDXComponent=!0},153:function(e,t,r){"use strict";r.d(t,"a",(function(){return d})),r.d(t,"b",(function(){return h}));var i=r(0),n=r.n(i);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},o=Object.keys(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=n.a.createContext({}),u=function(e){var t=n.a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},d=function(e){var t=u(e.components);return n.a.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},b=n.a.forwardRef((function(e,t){var r=e.components,i=e.mdxType,o=e.originalType,a=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=u(r),b=i,h=d["".concat(a,".").concat(b)]||d[b]||p[b]||o;return r?n.a.createElement(h,c(c({ref:t},l),{},{components:r})):n.a.createElement(h,c({ref:t},l))}));function h(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var o=r.length,a=new Array(o);a[0]=b;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:i,a[1]=c;for(var l=2;l<o;l++)a[l]=r[l];return n.a.createElement.apply(null,a)}return n.a.createElement.apply(null,r)}b.displayName="MDXCreateElement"},224:function(e,t,r){"use strict";r.r(t),t.default=r.p+"assets/images/authorization-workflow-7b697abd726b1373e73b1894c891dec7.svg"},225:function(e,t,r){"use strict";r.r(t),t.default=r.p+"assets/images/api-gateway-authorization-workflow-e93ea43e3997cd1a704eadd22516f8fd.svg"}}]);