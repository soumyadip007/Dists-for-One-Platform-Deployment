<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Search Service | One Portal</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Search Service | One Portal"><meta data-react-helmet="true" name="description" content="Developers"><meta data-react-helmet="true" property="og:description" content="Developers"><meta data-react-helmet="true" property="og:url" content="https://beta.one.redhat.com/get-started/docs/microservices/search-service"><link data-react-helmet="true" rel="shortcut icon" href="/get-started/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://beta.one.redhat.com/get-started/docs/microservices/search-service"><link rel="stylesheet" href="/get-started/styles.fbc733cf.css">
<link rel="preload" href="/get-started/styles.b7f67a21.js" as="script">
<link rel="preload" href="/get-started/runtime~main.e85e49cf.js" as="script">
<link rel="preload" href="/get-started/main.dc8659fe.js" as="script">
<link rel="preload" href="/get-started/1.19c547c6.js" as="script">
<link rel="preload" href="/get-started/2.f3baa3a5.js" as="script">
<link rel="preload" href="/get-started/3.75d6ff25.js" as="script">
<link rel="preload" href="/get-started/1be78505.b9c0630e.js" as="script">
<link rel="preload" href="/get-started/97.3c45fe10.js" as="script">
<link rel="preload" href="/get-started/935f2afb.99747297.js" as="script">
<link rel="preload" href="/get-started/17896441.a5340d9f.js" as="script">
<link rel="preload" href="/get-started/6f489505.8adfd6c9.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><!--#include virtual="/.ssi/nav/default.html" --></div><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/get-started/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Applications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/apps/assets">Assets</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Hosted</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/hosted/research-repository">Research Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/hosted/mod-handovers">MoD Handovers</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Internal</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/feedback">Feedback</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/home">Home</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/lighthouse">Lighthouse</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/notifications">Notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/user-groups">User Groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/ssi">SSI Service</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Microservices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/api-gateway">API Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/authorization">Authorization Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/apps-service">Apps Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/feedback-service">Feedback Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/home-service">Home Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/lighthouse-service">Lighthouse Service</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Notifications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/microservices/notifications-service">Notifications Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/microservices/notifications-service/get-started">Get Started with Templates</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/user-groups-service">User/Group Service</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/get-started/docs/microservices/search-service">Search Service</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Component Library</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/component-library">Component Library</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/component-library/style-guide">Style Guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/get-started/docs/cli">One Platform CLI</a></li><li class="menu__list-item"><a class="menu__link" href="/get-started/docs/faqs">One Platform FAQs</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Search Service</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="developers"></a>Developers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#developers" title="Direct link to heading">#</a></h2><ol><li>Rigin Oommen - <a href="mailto:roommen@redhat.com" target="_blank" rel="noopener noreferrer">roommen@redhat.com</a> - <a href="https://github.com/riginoommen" target="_blank" rel="noopener noreferrer">riginoommen (Rigin Oommen) · GitHub</a></li><li>Ghanshyam Lohar - <a href="mailto:glohar@redhat.com" target="_blank" rel="noopener noreferrer">glohar@redhat.com</a> - <a href="https://github.com/ghanlohar" target="_blank" rel="noopener noreferrer">ghanlohar (Ghanshyam Lohar) · GitHub</a></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getting-started"></a>Getting Started<a aria-hidden="true" tabindex="-1" class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><p>Search Microservice is a pillar which talks to Hydra APIs integrated with solr instances. This microservice is used to manage the search index</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="usage"></a>Usage<a aria-hidden="true" tabindex="-1" class="hash-link" href="#usage" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="introduction"></a>Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction" title="Direct link to heading">#</a></h3><p>Search microservice is built using NodeJS which has hydra API support. This microservice serves as the index store for the one platform. Most of the SPAs and microservices uses this data to implement search functionality.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="supported-features"></a>Supported Features<a aria-hidden="true" tabindex="-1" class="hash-link" href="#supported-features" title="Direct link to heading">#</a></h3><ol><li>Create, Update &amp; Delete Search Index</li><li>Read Search Index</li><li>Create, Update &amp; Delete Search Map</li><li>List the Search Map</li><li>List Search Map by <code>_id</code></li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="apps-using-this-microservice"></a>Apps using this microservice<a aria-hidden="true" tabindex="-1" class="hash-link" href="#apps-using-this-microservice" title="Direct link to heading">#</a></h4><ul><li>All Native &amp; Non-Native SPAs</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="quick-start-guide"></a>Quick Start Guide<a aria-hidden="true" tabindex="-1" class="hash-link" href="#quick-start-guide" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="prerequisites"></a>Prerequisites<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h4><ol><li><strong>NodeJS</strong> should be installed (<em>version\&gt;=__v10.15.3</em>)</li><li><strong>NPM</strong> should be installed <em>(version\&gt;= <strong>6.4.1</strong> )</em></li><li>Version control system required. Preferably <strong>git</strong>.</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="steps"></a>Steps<a aria-hidden="true" tabindex="-1" class="hash-link" href="#steps" title="Direct link to heading">#</a></h4><ol><li>Clone the <a href="https://github.com/1-Platform/one-platform" target="_blank" rel="noopener noreferrer">repository</a>.</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">git clone git@github.com:1-Platform/one-platform.git</span></div></div></div></div></div><ol start="2"><li>Switch the working directory to the user microservice</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">cd one-platform/packages/search-service</span></div></div></div></div></div><ol start="3"><li>Install the microservice dependencies.</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">npm i</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="start"></a>Start<a aria-hidden="true" tabindex="-1" class="hash-link" href="#start" title="Direct link to heading">#</a></h3><ol><li>Run npm start:dev to run your microservice for dev env and npm start for production env.</li><li>Navigate to port 8080 to see the microservice.</li></ol><p>eg: http://localhost:8080/graphql</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="build"></a>Build<a aria-hidden="true" tabindex="-1" class="hash-link" href="#build" title="Direct link to heading">#</a></h3><ol><li><a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">Webpack</a> is used for the build system in the microservices.</li><li>Run npm build:dev to generate a build for dev env and npm build for production build.</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="testing"></a>Testing<a aria-hidden="true" tabindex="-1" class="hash-link" href="#testing" title="Direct link to heading">#</a></h3><ol><li>For testing microservice with <a href="https://www.npmjs.com/package/supertest" target="_blank" rel="noopener noreferrer">supertest</a> with the preconfigured settings.</li><li>Test related environment configurations are present in .test.env under the e2e folder.</li><li>Execute the command for testing.</li></ol><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-sh codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">npm run test</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="api-references"></a>API References<a aria-hidden="true" tabindex="-1" class="hash-link" href="#api-references" title="Direct link to heading">#</a></h2><p>In the GraphQL GET Operations are defined as Queries and POST/PUT/PATCH operations are defined as Mutations.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="queries"></a>Queries<a aria-hidden="true" tabindex="-1" class="hash-link" href="#queries" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="search-query"></a>Search Query<a aria-hidden="true" tabindex="-1" class="hash-link" href="#search-query" title="Direct link to heading">#</a></h4><ul><li>Operation Name - Search</li><li>Supported Query Variables - <code>query</code>, <code>start</code>, <code>rows</code></li></ul><p>Example Query</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-graphql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">query</span><span class="token plain"> Search</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token variable" style="color:rgb(156, 220, 254)">$query</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> String</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$start</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Int</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$rows</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> Int</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    search</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token attr-name" style="color:rgb(156, 220, 254)">query</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$query</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$start</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$rows</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        responseHeader</span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            status</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    response </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        numFound</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        docs </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            title</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            abstract</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            description</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            icon</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            uri</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            tags</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            timestamp</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="list-search-maps-query"></a>List Search Maps Query<a aria-hidden="true" tabindex="-1" class="hash-link" href="#list-search-maps-query" title="Direct link to heading">#</a></h4><ul><li>Operation Name - ListSearchMap</li></ul><p>Example Query</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-graphql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">query</span><span class="token plain"> ListSearchMap </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    listSearchMap </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        _id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        appId</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        apiConfig</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        fields</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        preferences</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        createdBy</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        createdOn</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        updatedBy</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        updatedOn</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="list-search-map-by-_id"></a>List Search Map by <code>_id</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#list-search-map-by-_id" title="Direct link to heading">#</a></h4><ul><li>Operation Name - GetSearchMap</li><li>Supported Query Variables - <code>_id</code></li></ul><p>Example Query</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-graphql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">query</span><span class="token plain"> GetSearchMap</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token variable" style="color:rgb(156, 220, 254)">$_id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> String</span><span class="token operator" style="color:rgb(0, 92, 197)">!</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    getSearchMap</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token attr-name" style="color:rgb(156, 220, 254)">_id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$_id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        _id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        appId</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        apiConfig</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        fields</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        preferences</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        createdBy</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        createdOn</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        updatedBy</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        updatedOn</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="mutations"></a>Mutations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#mutations" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="createupdatedelete-data-in-index"></a>Create/Update/Delete data in index<a aria-hidden="true" tabindex="-1" class="hash-link" href="#createupdatedelete-data-in-index" title="Direct link to heading">#</a></h4><ul><li>Operation Name - ManageIndex</li><li>Required Mutation variables type - <code>SearchInput</code>, <code>mode</code></li></ul><p>Example Mutation</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-graphql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">mutation</span><span class="token plain"> ManageIndex</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token variable" style="color:rgb(156, 220, 254)">$input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> SearchInput</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$mode</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> String</span><span class="token operator" style="color:rgb(0, 92, 197)">!</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    manageIndex</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token attr-name" style="color:rgb(156, 220, 254)">input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token attr-name" style="color:rgb(156, 220, 254)">mode</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$mode</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        status</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="createupdate-data-in-index"></a>Create/Update data in index<a aria-hidden="true" tabindex="-1" class="hash-link" href="#createupdate-data-in-index" title="Direct link to heading">#</a></h4><ul><li>Operation Name - CreateUpdateIndex</li><li>Required Mutation variables type - <code>SearchInput</code></li></ul><p>Example Mutation</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-graphql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">mutation</span><span class="token plain"> CreateUpdateIndex</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token variable" style="color:rgb(156, 220, 254)">$input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> SearchInput</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    CreateUpdateIndex</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token attr-name" style="color:rgb(156, 220, 254)">input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        status</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="delete-data-from-index"></a>Delete data from index<a aria-hidden="true" tabindex="-1" class="hash-link" href="#delete-data-from-index" title="Direct link to heading">#</a></h4><ul><li>Operation Name - DeleteIndex</li><li>Required Mutation Variable - <code>id</code></li></ul><p>Example Mutation</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-graphql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">mutation</span><span class="token plain"> DeleteIndex</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token variable" style="color:rgb(156, 220, 254)">$id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> String</span><span class="token operator" style="color:rgb(0, 92, 197)">!</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    deleteIndex</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token attr-name" style="color:rgb(156, 220, 254)">id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token variable" style="color:rgb(156, 220, 254)">$id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        status</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="create-search-map"></a>Create Search Map<a aria-hidden="true" tabindex="-1" class="hash-link" href="#create-search-map" title="Direct link to heading">#</a></h4><ul><li>Operation Name - CreateSearchMap</li><li>Required Mutation variables type - <code>SearchMapInput</code></li></ul><p>Example Mutation</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-graphql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">mutation</span><span class="token plain"> CreateSearchMap</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token variable" style="color:rgb(156, 220, 254)">$input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> SearchMapInput</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    createSearchMap</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token attr-name" style="color:rgb(156, 220, 254)">input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        _id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        appId</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        apiConfig</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        fields</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        preferences</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        createdBy</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        createdOn</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        updatedBy</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        updatedOn</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="update-search-map"></a>Update Search Map<a aria-hidden="true" tabindex="-1" class="hash-link" href="#update-search-map" title="Direct link to heading">#</a></h4><ul><li>Operation Name - UpdateSearchMap</li><li>Required Mutation variables type - <code>SearchMapInput</code></li></ul><p>Example Mutation</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-graphql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">mutation</span><span class="token plain"> UpdateSearchMap</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token variable" style="color:rgb(156, 220, 254)">$input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> SearchMapInput</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    updateSearchMap</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token attr-name" style="color:rgb(156, 220, 254)">input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$input</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        _id</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        appId</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        apiConfig</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        fields</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        preferences</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        createdBy</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        createdOn</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        updatedBy</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        updatedOn</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="delete-search-map"></a>Delete Search Map<a aria-hidden="true" tabindex="-1" class="hash-link" href="#delete-search-map" title="Direct link to heading">#</a></h4><ul><li>Operation Name - DeleteSearchMap</li><li>Required Mutation Variable - <code>id</code></li></ul><p>Example Mutation</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-graphql codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token keyword" style="color:#e3116c">mutation</span><span class="token plain"> DeleteSearchMap</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token variable" style="color:rgb(156, 220, 254)">$id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> String</span><span class="token operator" style="color:rgb(0, 92, 197)">!</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    deleteSearchMap</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token attr-name" style="color:rgb(156, 220, 254)">_id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">:</span><span class="token plain"> </span><span class="token variable" style="color:rgb(156, 220, 254)">$id</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        status</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="code-snippets"></a>Code Snippets<a aria-hidden="true" tabindex="-1" class="hash-link" href="#code-snippets" title="Direct link to heading">#</a></h2><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="universal-helper-code-for-indexing-the-data-with-search-microservice"></a>Universal Helper code for indexing the data with search microservice.<a aria-hidden="true" tabindex="-1" class="hash-link" href="#universal-helper-code-for-indexing-the-data-with-search-microservice" title="Direct link to heading">#</a></h4><ul><li>Language - Javascript</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:rgb(36, 41, 46);background-color:#f6f8fa"><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token function" style="color:rgb(111, 66, 193)">manageSearchIndex</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token parameter">data</span><span class="token parameter operator" style="color:rgb(0, 92, 197)">:</span><span class="token parameter"> any</span><span class="token parameter punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token parameter"> mode</span><span class="token parameter operator" style="color:rgb(0, 92, 197)">:</span><span class="token parameter"> string</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token keyword" style="color:#e3116c">let</span><span class="token plain"> query</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> string </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string">`</span><span class="token template-string string"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token template-string string">    mutation ManageIndex($input: SearchInput, $mode: String!) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token template-string string">        manageIndex(input: $input, mode: $mode) {</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token template-string string">            status</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token template-string string">        }</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token template-string string">    }</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token keyword" style="color:#e3116c">let</span><span class="token plain"> headers </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#e3116c">new</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(227, 98, 9)">Headers</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// Authorization Token for API gateway</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    headers</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">append</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Authorization</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(36, 41, 46)">${</span><span class="token template-string interpolation"> process</span><span class="token template-string interpolation punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token template-string interpolation">env</span><span class="token template-string interpolation punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token template-string interpolation constant" style="color:rgb(100, 102, 149)">GATEWAY_AUTH_TOKEN</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    headers</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">append</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">Content-Type</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">application/json</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)">// API Gateway URL.</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#e3116c">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(111, 66, 193)">fetch</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token template-string template-punctuation string">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(36, 41, 46)">${</span><span class="token template-string interpolation"> process</span><span class="token template-string interpolation punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token template-string interpolation">env</span><span class="token template-string interpolation punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token template-string interpolation constant" style="color:rgb(100, 102, 149)">API_GATEWAY</span><span class="token template-string interpolation"> </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            method</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string">`</span><span class="token template-string string">POST</span><span class="token template-string template-punctuation string">`</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            headers</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            body</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:rgb(227, 98, 9)">JSON</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">stringify</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                query</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> query</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                variables</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                    input</span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> mode </span><span class="token operator" style="color:rgb(0, 92, 197)">===</span><span class="token plain"> </span><span class="token string">&#x27;index&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(0, 92, 197)">?</span><span class="token plain"> data</span><span class="token operator" style="color:rgb(0, 92, 197)">?.</span><span class="token plain">input </span><span class="token operator" style="color:rgb(0, 92, 197)">:</span><span class="token plain"> data</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                    mode</span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">then</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token parameter">response</span><span class="token parameter operator" style="color:rgb(0, 92, 197)">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(0, 92, 197)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#e3116c">return</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">json</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">then</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token parameter">result</span><span class="token parameter operator" style="color:rgb(0, 92, 197)">:</span><span class="token parameter"> any</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(0, 92, 197)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token keyword" style="color:#e3116c">const</span><span class="token plain"> successStatusCodes </span><span class="token operator" style="color:rgb(0, 92, 197)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">[</span><span class="token number">200</span><span class="token punctuation" style="color:rgb(36, 41, 46)">,</span><span class="token plain"> </span><span class="token number">204</span><span class="token punctuation" style="color:rgb(36, 41, 46)">]</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#e3116c">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">successStatusCodes</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">includes</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token property-access" style="color:rgb(111, 66, 193)">data</span><span class="token operator" style="color:rgb(0, 92, 197)">?.</span><span class="token plain">manageIndex</span><span class="token operator" style="color:rgb(0, 92, 197)">?.</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token console class-name" style="color:rgb(227, 98, 9)">console</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">info</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;Sucessfully completed the index updation&#x27;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#e3116c">else</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#e3116c">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token operator" style="color:rgb(0, 92, 197)">!</span><span class="token plain">successStatusCodes</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">includes</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token plain">result</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token property-access" style="color:rgb(111, 66, 193)">data</span><span class="token operator" style="color:rgb(0, 92, 197)">?.</span><span class="token plain">manageIndex</span><span class="token operator" style="color:rgb(0, 92, 197)">?.</span><span class="token plain">status</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">                </span><span class="token console class-name" style="color:rgb(227, 98, 9)">console</span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token method function property-access" style="color:rgb(111, 66, 193)">info</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token string">&#x27;Error in index updation.&#x27;</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">.</span><span class="token keyword control-flow" style="color:#e3116c">catch</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token punctuation" style="color:rgb(36, 41, 46)">(</span><span class="token parameter">err</span><span class="token parameter operator" style="color:rgb(0, 92, 197)">:</span><span class="token parameter"> Error</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(0, 92, 197)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(36, 41, 46)">{</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">            </span><span class="token keyword control-flow" style="color:#e3116c">throw</span><span class="token plain"> err</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span><span class="token punctuation" style="color:rgb(36, 41, 46)">)</span><span class="token punctuation" style="color:rgb(36, 41, 46)">;</span><span class="token plain"></span></div><div class="token-line" style="color:rgb(36, 41, 46)"><span class="token plain"></span><span class="token punctuation" style="color:rgb(36, 41, 46)">}</span></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/1-platform/one-platform/edit/master/packages/documentation-spa/docs/microservices/search/search-service.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/get-started/docs/microservices/user-groups-service"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« User/Group Service</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/get-started/docs/component-library"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Component Library »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#developers" class="table-of-contents__link">Developers</a></li><li><a href="#getting-started" class="table-of-contents__link">Getting Started</a></li><li><a href="#usage" class="table-of-contents__link">Usage</a><ul><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#supported-features" class="table-of-contents__link">Supported Features</a></li><li><a href="#quick-start-guide" class="table-of-contents__link">Quick Start Guide</a></li><li><a href="#start" class="table-of-contents__link">Start</a></li><li><a href="#build" class="table-of-contents__link">Build</a></li><li><a href="#testing" class="table-of-contents__link">Testing</a></li></ul></li><li><a href="#api-references" class="table-of-contents__link">API References</a><ul><li><a href="#queries" class="table-of-contents__link">Queries</a></li><li><a href="#mutations" class="table-of-contents__link">Mutations</a></li></ul></li><li><a href="#code-snippets" class="table-of-contents__link">Code Snippets</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">QUICK LINKS</h4><ul class="footer__items"><li class="footer__item"><a href="https://mojo.redhat.com/groups/pnt-devops/projects/one-portal" target="_blank" rel="noopener noreferrer" class="footer__link-item">One Platform in Mojo</a></li><li class="footer__item"><a class="footer__link-item" href="/get-started/blog">Weekly Blog</a></li><li class="footer__item"><a href="https://beta.one.redhat.com/contact-us.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">RELATED SITES</h4><ul class="footer__items"><li class="footer__item"><a href="https://access.redhat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Red Hat Access</a></li><li class="footer__item"><a href="https://catalog.redhat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Catalog</a></li><li class="footer__item"><a href="https://connect.redhat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Connect</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">HELP</h4><ul class="footer__items"><li class="footer__item"><a href="https://beta.one.redhat.com/feedback" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report an Issue</a></li><li class="footer__item"><a class="footer__link-item" href="/get-started/docs/faqs">FAQs</a></li></ul></div></div><div class="text--center"><div>Copyright © 2021 Red Hat, Inc.</div></div></div></footer></div>
<script src="/get-started/styles.b7f67a21.js"></script>
<script src="/get-started/runtime~main.e85e49cf.js"></script>
<script src="/get-started/main.dc8659fe.js"></script>
<script src="/get-started/1.19c547c6.js"></script>
<script src="/get-started/2.f3baa3a5.js"></script>
<script src="/get-started/3.75d6ff25.js"></script>
<script src="/get-started/1be78505.b9c0630e.js"></script>
<script src="/get-started/97.3c45fe10.js"></script>
<script src="/get-started/935f2afb.99747297.js"></script>
<script src="/get-started/17896441.a5340d9f.js"></script>
<script src="/get-started/6f489505.8adfd6c9.js"></script>
</body>
</html>