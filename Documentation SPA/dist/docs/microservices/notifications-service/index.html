<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.65">
<title data-react-helmet="true">Notifications Service | One Portal</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Notifications Service | One Portal"><meta data-react-helmet="true" name="description" content="*"><meta data-react-helmet="true" property="og:description" content="*"><meta data-react-helmet="true" property="og:url" content="https://beta.one.redhat.com/get-started/docs/microservices/notifications-service"><link data-react-helmet="true" rel="shortcut icon" href="/get-started/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://beta.one.redhat.com/get-started/docs/microservices/notifications-service"><link rel="stylesheet" href="/get-started/styles.fbc733cf.css">
<link rel="preload" href="/get-started/styles.b7f67a21.js" as="script">
<link rel="preload" href="/get-started/runtime~main.e85e49cf.js" as="script">
<link rel="preload" href="/get-started/main.dc8659fe.js" as="script">
<link rel="preload" href="/get-started/1.19c547c6.js" as="script">
<link rel="preload" href="/get-started/2.f3baa3a5.js" as="script">
<link rel="preload" href="/get-started/3.75d6ff25.js" as="script">
<link rel="preload" href="/get-started/1be78505.b9c0630e.js" as="script">
<link rel="preload" href="/get-started/97.3c45fe10.js" as="script">
<link rel="preload" href="/get-started/935f2afb.99747297.js" as="script">
<link rel="preload" href="/get-started/17896441.a5340d9f.js" as="script">
<link rel="preload" href="/get-started/18825e23.612ac204.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><!--#include virtual="/.ssi/nav/default.html" --></div><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/get-started/docs/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">Applications</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/apps/assets">Assets</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Hosted</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/hosted/research-repository">Research Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/hosted/mod-handovers">MoD Handovers</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Internal</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/feedback">Feedback</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/home">Home</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/lighthouse">Lighthouse</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/notifications">Notifications</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/user-groups">User Groups</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/apps/internal/ssi">SSI Service</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Microservices</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/api-gateway">API Gateway</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/authorization">Authorization Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/apps-service">Apps Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/feedback-service">Feedback Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/home-service">Home Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/lighthouse-service">Lighthouse Service</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!" tabindex="0">Notifications</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/get-started/docs/microservices/notifications-service">Notifications Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/notifications-service/get-started">Get Started with Templates</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/user-groups-service">User/Group Service</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/get-started/docs/microservices/search-service">Search Service</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Component Library</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/component-library">Component Library</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/get-started/docs/component-library/style-guide">Style Guide</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/get-started/docs/cli">One Platform CLI</a></li><li class="menu__list-item"><a class="menu__link" href="/get-started/docs/faqs">One Platform FAQs</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Notifications Service</h1></header><div class="markdown"><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="developers"></a>Developers<a aria-hidden="true" tabindex="-1" class="hash-link" href="#developers" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="component-contributors"></a>Component Contributors<a aria-hidden="true" tabindex="-1" class="hash-link" href="#component-contributors" title="Direct link to heading">#</a></h3><ol><li>Mayur Deshmukh - <a href="mailto:mdeshmuk@redhat.com" target="_blank" rel="noopener noreferrer">mdeshmuk@redhat.com</a></li><li>Diwanshi Pandey - <a href="mailto:dpandey@redhat.com" target="_blank" rel="noopener noreferrer">dpandey@redhat.com</a></li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="getting-started"></a>Getting Started<a aria-hidden="true" tabindex="-1" class="hash-link" href="#getting-started" title="Direct link to heading">#</a></h2><p>Notifications Microservice provides the essential GraphQL APIs required for the Notifications Framework. It includes graphql queries for configuring notifications and templates, triggering notifications, listening for notifications, etc.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="usage"></a>Usage<a aria-hidden="true" tabindex="-1" class="hash-link" href="#usage" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="introduction"></a>Introduction<a aria-hidden="true" tabindex="-1" class="hash-link" href="#introduction" title="Direct link to heading">#</a></h3><p>Any developer can use the Notification Microservice to utilize/implement notifications in their App. They just have to create a notification config or a template, and they can start sending or listening to notifications using the GraphQL APIs and Subscriptions.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="supported-features"></a>Supported Features<a aria-hidden="true" tabindex="-1" class="hash-link" href="#supported-features" title="Direct link to heading">#</a></h3><ol><li>Email Notifications</li><li>Push/Pop-up Notifications (Using GraphQL subscriptions)</li><li>Event-based notifications (coming soon)</li></ol><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="apps-using-this-microservice"></a>Apps using this microservice<a aria-hidden="true" tabindex="-1" class="hash-link" href="#apps-using-this-microservice" title="Direct link to heading">#</a></h4><ol><li>Feedback</li></ol><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="quick-start-guide"></a>Quick Start Guide<a aria-hidden="true" tabindex="-1" class="hash-link" href="#quick-start-guide" title="Direct link to heading">#</a></h3><p>To get started with the Notifications Microservice, and to use it in your own apps, you can follow the following steps:</p><ol><li>Create a notification config for your app from the One Platform Notifications Dashboard – <a href="https://one.redhat.com/notifications" target="_blank" rel="noopener noreferrer">https://one.redhat.com/notifications</a></li><li>Fill out the Notification Config form using the appropriate fields as are required for your use case.</li><li>Once the notification config has been created, you will get a unique configID. You can use this configID to send and receive notifications for your app.</li><li>To send a notification, you can use the existing GraphQL mutation newNotification to trigger a notification.</li><li>For example, if you want to send out a notification, when the document is created in your app, you can simply call the GraphQL mutation and pass it the required data, such as the subject, body, etc. and the Notifications Microservice will send out the notification via the appropriate channels to the target/end-users.<ol><li>If the notification config was created for email notifications, then the notification will be sent out as an email.</li><li>If the notification config was created for Push or Banner notifications, then the notification will be sent out as a GraphQL subscription.</li></ol></li><li>One Platform’s default navbar by default listens to all kinds of Push and Banner notifications for the respective logged in user. So any notification that is sent from your app for that user will be displayed to that user in the form of a pop-up in the UI, and also shown in the Notification Drawer.</li><li>If you want to listen to the notifications in your app, for example to perform some custom actions, you can use any GraphQL subscriptions client library to connect to the Notifications Microservice subscriptions API, using the subscription newNotifications and pass it the target that you want to listen to, and it will be triggered whenever a notification for that target is sent out.</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="api-reference"></a>API Reference<a aria-hidden="true" tabindex="-1" class="hash-link" href="#api-reference" title="Direct link to heading">#</a></h2><p>Endpoint: <a href="https://api-gateway-cpops-one-prod.ext.us-west.aws.prod.paas.redhat.com/graphql" target="_blank" rel="noopener noreferrer">https://api-gateway-cpops-one-prod.ext.us-west.aws.prod.paas.redhat.com/graphql</a></p><p>Notifications Microservice provides a set of GraphQL Queries and Mutation APIs to allow developers to create, edit, delete their Notification Configs and Notifications.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="graphql-queries"></a>GraphQL Queries<a aria-hidden="true" tabindex="-1" class="hash-link" href="#graphql-queries" title="Direct link to heading">#</a></h3><table><thead><tr><th>Query</th><th>Description</th></tr></thead><tbody><tr><td><code>notificationTemplates</code></td><td>Returns a list of all notificationTemplates</td></tr><tr><td><code>notificationTemplate(id: ID!)</code></td><td>Returns a notificationTemplate with matching id</td></tr><tr><td><code>findNotificationTemplates(selectors: FindNotificationTemplates!)</code></td><td>Finds a notification template matching the given selectors</td></tr><tr><td><code>listActiveNotifications</code></td><td>Returns a list of Active Notifications.<br>It accepts a parameter <code>limit</code>, to restrict the number of notifications in the response. (The default limit is 25)</td></tr><tr><td><code>listArchivedNotifications(targets: [String]!)</code></td><td>Returns a list of the old/archived notifications.<br>It accepts a mandatory parameter <code>targets</code> which can be used to get the notifications for the provided targets.<br>It also accepts a parameter <code>limit</code>, to restrict the number of notifications in the response. (The default limit is 25)</td></tr><tr><td><code>getNotificationsBy(selector: FindNotificationInput!)</code></td><td>Returns notifications matching the given selection criteria.<br>It accepts a parameter “selector” of type NotificationPayloadInput.</td></tr></tbody></table><br><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="graphql-mutations"></a>GraphQL Mutations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#graphql-mutations" title="Direct link to heading">#</a></h3><table><thead><tr><th>Mutation</th><th>Description</th></tr></thead><tbody><tr><td><code>createNotificationTemplate(template: CreateNotificationTemplate!)</code></td><td>Creates a new notification template</td></tr><tr><td><code>updateNotificationTemplate(id: ID!, template: UpdateNotificationTemplate!)</code></td><td>Modifies a notification template</td></tr><tr><td><code>deleteNotificationTemplate(id: ID!)</code></td><td>Delete a notification template matching id</td></tr><tr><td><code>triggerNotification(templateID: ID!, payload: NotificationPayloadInput!)</code></td><td>Trigger notification using a template ID</td></tr><tr><td><code>newNotification(configID: ID!, payload: FindNotificationInput!)</code></td><td>Creates a new notification using a config and add it to the queue</td></tr></tbody></table><br><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="graphql-subscriptions"></a>GraphQL Subscriptions<a aria-hidden="true" tabindex="-1" class="hash-link" href="#graphql-subscriptions" title="Direct link to heading">#</a></h3><table><thead><tr><th>Subscription</th><th>Description</th></tr></thead><tbody><tr><td><code>newNotifications(target: [String!]!)</code></td><td>A GraphQL subscription that establishes a socket connection with the Server.<br>An event is sent to the client whenever a new notification is triggered. It accepts a <code>targets</code> parameter to filter and listen to the notifications for the specified targets.</td></tr></tbody></table><br><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="faqs"></a>FAQs<a aria-hidden="true" tabindex="-1" class="hash-link" href="#faqs" title="Direct link to heading">#</a></h2><details><summary>What kind of Notifications are supported by the Notifications Microservice?</summary><p>Email, Push and Banner. Webhooks will be added soon.</p></details><details><summary>What is the difference between Notification Config and a Notification Template?</summary><p>Notification Templates are the text templates that use some templating engine (like Twig) to define a notification data.</p></details><details><summary>Do I have to create a Notification Config to use the Notifications Microservice?</summary><p>No. The Notification Config is an alternative to the templates mostly to be used with Push and Banner notifications. It helps define the defaults and allows the Notifications Rule Engine to determine where and how the Notification should be sent.</p></details><details><summary>How does the Notifications microservice work?</summary><p>The Notifications Microservice consists of 3 main components.</p><ol><li>APIs</li><li>Rule Engine</li><li>Queue / Scheduler</li></ol></details><br><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="architecture-diagram-of-the-notifications-microservice"></a>Architecture Diagram of the Notifications Microservice**<a aria-hidden="true" tabindex="-1" class="hash-link" href="#architecture-diagram-of-the-notifications-microservice" title="Direct link to heading">#</a></h2><p>  <img alt="Notifications Microservice Architecture" src="/get-started/assets/images/notifications-ms-architecture-9d6e991d4c74cc5c2ff61efc101cbfa4.png"></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/1-platform/one-platform/edit/master/packages/documentation-spa/docs/microservices/notifications/notifications-service.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/get-started/docs/microservices/lighthouse-service"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Lighthouse Service</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/get-started/docs/microservices/notifications-service/get-started"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Getting Started with Notification Templates »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#developers" class="table-of-contents__link">Developers</a><ul><li><a href="#component-contributors" class="table-of-contents__link">Component Contributors</a></li></ul></li><li><a href="#getting-started" class="table-of-contents__link">Getting Started</a></li><li><a href="#usage" class="table-of-contents__link">Usage</a><ul><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#supported-features" class="table-of-contents__link">Supported Features</a></li><li><a href="#quick-start-guide" class="table-of-contents__link">Quick Start Guide</a></li></ul></li><li><a href="#api-reference" class="table-of-contents__link">API Reference</a><ul><li><a href="#graphql-queries" class="table-of-contents__link">GraphQL Queries</a></li><li><a href="#graphql-mutations" class="table-of-contents__link">GraphQL Mutations</a></li><li><a href="#graphql-subscriptions" class="table-of-contents__link">GraphQL Subscriptions</a></li></ul></li><li><a href="#faqs" class="table-of-contents__link">FAQs</a></li><li><a href="#architecture-diagram-of-the-notifications-microservice" class="table-of-contents__link">Architecture Diagram of the Notifications Microservice**</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">QUICK LINKS</h4><ul class="footer__items"><li class="footer__item"><a href="https://mojo.redhat.com/groups/pnt-devops/projects/one-portal" target="_blank" rel="noopener noreferrer" class="footer__link-item">One Platform in Mojo</a></li><li class="footer__item"><a class="footer__link-item" href="/get-started/blog">Weekly Blog</a></li><li class="footer__item"><a href="https://beta.one.redhat.com/contact-us.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">RELATED SITES</h4><ul class="footer__items"><li class="footer__item"><a href="https://access.redhat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Red Hat Access</a></li><li class="footer__item"><a href="https://catalog.redhat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Catalog</a></li><li class="footer__item"><a href="https://connect.redhat.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Connect</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">HELP</h4><ul class="footer__items"><li class="footer__item"><a href="https://beta.one.redhat.com/feedback" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report an Issue</a></li><li class="footer__item"><a class="footer__link-item" href="/get-started/docs/faqs">FAQs</a></li></ul></div></div><div class="text--center"><div>Copyright © 2021 Red Hat, Inc.</div></div></div></footer></div>
<script src="/get-started/styles.b7f67a21.js"></script>
<script src="/get-started/runtime~main.e85e49cf.js"></script>
<script src="/get-started/main.dc8659fe.js"></script>
<script src="/get-started/1.19c547c6.js"></script>
<script src="/get-started/2.f3baa3a5.js"></script>
<script src="/get-started/3.75d6ff25.js"></script>
<script src="/get-started/1be78505.b9c0630e.js"></script>
<script src="/get-started/97.3c45fe10.js"></script>
<script src="/get-started/935f2afb.99747297.js"></script>
<script src="/get-started/17896441.a5340d9f.js"></script>
<script src="/get-started/18825e23.612ac204.js"></script>
</body>
</html>